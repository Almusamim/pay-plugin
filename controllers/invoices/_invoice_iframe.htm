<?php
    $invoice = $formModel;
    $template = $invoice->template;
?>

<iframe id="<?= $this->getId('invoiceIframe') ?>" style="width: 100%; height: 500px; padding: 0 10px" frameborder="0"></iframe>
<script type="text/template" id="<?= $this->getId('invoiceContents') ?>">
    <?= $template->renderInvoice($invoice) ?>
</script>
<script>
    $(document).render(function(){
        var frame = $('#<?= $this->getId('invoiceIframe') ?>'),
            frameContents = frame.contents().find('html'),
            invoiceContents = $('#<?= $this->getId('invoiceContents') ?>').html()

        frameContents.html(invoiceContents)
        frame.height(frameContents.height() + 100)
    })
</script>